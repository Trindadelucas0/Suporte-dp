<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passo 2: Vari√°veis de Ambiente - Guia de Configura√ß√£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            position: relative;
            margin: 1rem 0;
        }
        .copy-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: #4f46e5;
            color: white;
            border: none;
            padding: 6px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: background 0.2s;
        }
        .copy-btn:hover {
            background: #4338ca;
        }
        .copy-btn.copied {
            background: #10b981;
        }
        .env-var {
            background: #f3f4f6;
            padding: 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-indigo-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="bg-white rounded-2xl shadow-xl p-8 mb-6">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">2Ô∏è‚É£ Passo 2: Vari√°veis de Ambiente</h1>
                    <p class="text-gray-600">Criar e configurar o arquivo .env com todas as vari√°veis necess√°rias</p>
                </div>
                <a href="index.html" class="text-purple-600 hover:text-purple-700 font-semibold">‚Üê Voltar</a>
            </div>
        </div>

        <!-- Step 2.1 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">üìù 2.1 - Criar Arquivo .env</h2>
            <p class="text-gray-600 mb-4">
                Primeiro, voc√™ precisa criar o arquivo <code class="env-var">.env</code> na raiz do projeto. 
                Use o arquivo <code class="env-var">env.example</code> como base.
            </p>

            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 rounded">
                <p class="text-yellow-800">
                    <strong>‚ö†Ô∏è Importante:</strong> O arquivo <code>.env</code> n√£o deve ser commitado no Git! 
                    Ele cont√©m informa√ß√µes sens√≠veis.
                </p>
            </div>

            <h3 class="text-lg font-semibold text-gray-700 mb-3">Windows (PowerShell)</h3>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this, 'copy env.example .env')">Copiar</button>
                <code id="copy env.example .env">copy env.example .env</code>
            </div>

            <h3 class="text-lg font-semibold text-gray-700 mb-3 mt-4">Linux/Mac (Terminal)</h3>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this, 'cp env.example .env')">Copiar</button>
                <code id="cp env.example .env">cp env.example .env</code>
            </div>
        </div>

        <!-- Step 2.2 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">‚öôÔ∏è 2.2 - Configurar Vari√°veis B√°sicas</h2>
            <p class="text-gray-600 mb-4">
                Abra o arquivo <code class="env-var">.env</code> e configure as vari√°veis b√°sicas do sistema:
            </p>

            <div class="space-y-4">
                <div class="bg-gray-50 p-4 rounded-lg">
                    <p class="font-semibold text-gray-800 mb-2">APP_URL</p>
                    <p class="text-gray-600 text-sm mb-2">URL completa do seu aplicativo (usado nos links de ativa√ß√£o)</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this, 'APP_URL')">Copiar</button>
                        <code id="APP_URL">APP_URL=https://seu-app.onrender.com</code>
                    </div>
                    <p class="text-gray-500 text-xs mt-2">üí° Substitua pela URL real do seu app em produ√ß√£o</p>
                </div>

                <div class="bg-gray-50 p-4 rounded-lg">
                    <p class="font-semibold text-gray-800 mb-2">APP_NAME</p>
                    <p class="text-gray-600 text-sm mb-2">Nome do seu aplicativo (aparece nos emails)</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this, 'APP_NAME')">Copiar</button>
                        <code id="APP_NAME">APP_NAME=Suporte DP</code>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2.3 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">üîê 2.3 - Configurar Segredos de Webhook</h2>
            <p class="text-gray-600 mb-4">
                Configure os segredos para validar os webhooks. Voc√™ obter√° esses segredos nas configura√ß√µes 
                de webhook de cada plataforma (veremos isso nos pr√≥ximos passos).
            </p>

            <div class="space-y-4">
                <div class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-400">
                    <p class="font-semibold text-gray-800 mb-2">KIWIFY_WEBHOOK_SECRET</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this, 'KIWIFY_WEBHOOK_SECRET')">Copiar</button>
                        <code id="KIWIFY_WEBHOOK_SECRET">KIWIFY_WEBHOOK_SECRET=seu-secret-kiwify-aqui</code>
                    </div>
                    <p class="text-gray-500 text-xs mt-2">üí° Voc√™ obter√° isso no Passo 4</p>
                </div>

                <div class="bg-orange-50 p-4 rounded-lg border-l-4 border-orange-400">
                    <p class="font-semibold text-gray-800 mb-2">HOTMART_WEBHOOK_SECRET</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this, 'HOTMART_WEBHOOK_SECRET')">Copiar</button>
                        <code id="HOTMART_WEBHOOK_SECRET">HOTMART_WEBHOOK_SECRET=seu-secret-hotmart-aqui</code>
                    </div>
                    <p class="text-gray-500 text-xs mt-2">üí° Voc√™ obter√° isso no Passo 5</p>
                </div>

                <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                    <p class="font-semibold text-gray-800 mb-2">KIRVANO_WEBHOOK_SECRET</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this, 'KIRVANO_WEBHOOK_SECRET')">Copiar</button>
                        <code id="KIRVANO_WEBHOOK_SECRET">KIRVANO_WEBHOOK_SECRET=seu-secret-kirvano-aqui</code>
                    </div>
                    <p class="text-gray-500 text-xs mt-2">üí° Voc√™ obter√° isso no Passo 6</p>
                </div>
            </div>

            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded mt-4">
                <p class="text-yellow-800">
                    <strong>‚ö†Ô∏è Por enquanto:</strong> Deixe esses valores como est√£o. Voc√™ voltar√° aqui 
                    depois de configurar os webhooks nas plataformas.
                </p>
            </div>
        </div>

        <!-- Step 2.4 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">üìß 2.4 - Configurar Vari√°veis de Email</h2>
            <p class="text-gray-600 mb-4">
                Configure as vari√°veis de SMTP para envio de emails. Voc√™ ver√° detalhes no pr√≥ximo passo.
            </p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this, 'SMTP_CONFIG')">Copiar Tudo</button>
                <code id="SMTP_CONFIG">SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASS=sua-senha-de-app
SMTP_FROM=noreply@seudominio.com</code>
            </div>

            <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded mt-4">
                <p class="text-blue-800">
                    <strong>üí° Dica:</strong> Para Gmail, voc√™ precisa usar uma "Senha de App", n√£o sua senha normal. 
                    Veja como fazer isso no pr√≥ximo passo.
                </p>
            </div>
        </div>

        <!-- Step 2.5 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">‚úÖ 2.5 - Verificar Arquivo .env</h2>
            <p class="text-gray-600 mb-4">
                Seu arquivo <code class="env-var">.env</code> deve ter algo assim:
            </p>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this, 'ENV_EXAMPLE')">Copiar</button>
                <code id="ENV_EXAMPLE"># Configura√ß√µes do Servidor
PORT=3000
NODE_ENV=production

# Banco de Dados
DB_HOST=seu-host-postgresql.render.com
DB_PORT=5432
DB_NAME=seu_nome_banco
DB_USER=seu_usuario
DB_PASSWORD=sua_senha

# Sess√£o
SESSION_SECRET=seu-session-secret-aqui

# Aplica√ß√£o
APP_NAME=Suporte DP
APP_URL=https://seu-app.onrender.com

# Webhooks
KIWIFY_WEBHOOK_SECRET=seu-secret-kiwify-aqui
HOTMART_WEBHOOK_SECRET=seu-secret-hotmart-aqui
KIRVANO_WEBHOOK_SECRET=seu-secret-kirvano-aqui

# Email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASS=sua-senha-de-app
SMTP_FROM=noreply@seudominio.com</code>
            </div>
        </div>

        <!-- Navigation -->
        <div class="flex justify-between mt-8">
            <a href="passo1-instalacao.html" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition">
                ‚Üê Passo Anterior
            </a>
            <a href="passo3-email.html" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition">
                Pr√≥ximo Passo ‚Üí
            </a>
        </div>
    </div>

    <script>
        function copyCode(btn, codeId) {
            const codeElement = document.getElementById(codeId);
            const text = codeElement.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                btn.textContent = 'Copiado!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'Copiar';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }
    </script>
</body>
</html>

