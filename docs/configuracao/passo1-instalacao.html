<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passo 1: Instala√ß√£o - Guia de Configura√ß√£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            position: relative;
            margin: 1rem 0;
        }
        .copy-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: #4f46e5;
            color: white;
            border: none;
            padding: 6px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: background 0.2s;
        }
        .copy-btn:hover {
            background: #4338ca;
        }
        .copy-btn.copied {
            background: #10b981;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-indigo-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="bg-white rounded-2xl shadow-xl p-8 mb-6">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">1Ô∏è‚É£ Passo 1: Instala√ß√£o</h1>
                    <p class="text-gray-600">Instalar depend√™ncias e executar migration do banco de dados</p>
                </div>
                <a href="index.html" class="text-purple-600 hover:text-purple-700 font-semibold">‚Üê Voltar</a>
            </div>
        </div>

        <!-- Step 1.1 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">üì¶ 1.1 - Instalar Depend√™ncias</h2>
            <p class="text-gray-600 mb-4">
                Primeiro, voc√™ precisa instalar todas as depend√™ncias do projeto, incluindo o <strong>nodemailer</strong> 
                que foi adicionado para envio de emails.
            </p>
            
            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 rounded">
                <p class="text-yellow-800">
                    <strong>‚ö†Ô∏è Importante:</strong> Certifique-se de estar na pasta raiz do projeto antes de executar os comandos.
                </p>
            </div>

            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this, 'npm install')">Copiar</button>
                <code id="npm install">npm install</code>
            </div>

            <div class="bg-green-50 border-l-4 border-green-400 p-4 rounded mt-4">
                <p class="text-green-800">
                    <strong>‚úÖ O que acontece:</strong> O npm vai instalar todas as depend√™ncias listadas no package.json, 
                    incluindo o nodemailer que √© necess√°rio para envio de emails.
                </p>
            </div>
        </div>

        <!-- Step 1.2 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">üóÑÔ∏è 1.2 - Executar Migration</h2>
            <p class="text-gray-600 mb-4">
                Agora voc√™ precisa criar a tabela <code class="bg-gray-100 px-2 py-1 rounded">activation_links</code> 
                no banco de dados. Isso √© feito executando a migration.
            </p>

            <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-4 rounded">
                <p class="text-blue-800">
                    <strong>üí° Dica:</strong> Certifique-se de que o banco de dados est√° configurado e acess√≠vel 
                    antes de executar a migration.
                </p>
            </div>

            <h3 class="text-lg font-semibold text-gray-700 mb-3">Op√ß√£o 1: Usando o Script (Recomendado)</h3>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this, 'node scripts/run-migration.js 005_create_activation_links.sql')">Copiar</button>
                <code id="node scripts/run-migration.js 005_create_activation_links.sql">node scripts/run-migration.js 005_create_activation_links.sql</code>
            </div>

            <h3 class="text-lg font-semibold text-gray-700 mb-3 mt-6">Op√ß√£o 2: Executar SQL Manualmente</h3>
            <p class="text-gray-600 mb-4">
                Se preferir, voc√™ pode executar o SQL diretamente no seu cliente PostgreSQL:
            </p>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this, 'psql')">Copiar</button>
                <code id="psql">psql -U seu_usuario -d seu_banco -f database/migrations/005_create_activation_links.sql</code>
            </div>

            <div class="bg-green-50 border-l-4 border-green-400 p-4 rounded mt-4">
                <p class="text-green-800">
                    <strong>‚úÖ O que acontece:</strong> A tabela <code>activation_links</code> ser√° criada no banco de dados 
                    com todos os campos necess√°rios para armazenar os links de ativa√ß√£o.
                </p>
            </div>
        </div>

        <!-- Step 1.3 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">‚úÖ 1.3 - Verificar Instala√ß√£o</h2>
            <p class="text-gray-600 mb-4">
                Ap√≥s executar os comandos, verifique se tudo foi instalado corretamente:
            </p>

            <div class="space-y-3">
                <div class="flex items-start">
                    <span class="text-green-500 text-xl mr-3">‚úì</span>
                    <div>
                        <p class="font-semibold text-gray-800">Depend√™ncias instaladas</p>
                        <p class="text-gray-600 text-sm">Verifique se a pasta <code class="bg-gray-100 px-1 rounded">node_modules</code> existe</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <span class="text-green-500 text-xl mr-3">‚úì</span>
                    <div>
                        <p class="font-semibold text-gray-800">Tabela criada</p>
                        <p class="text-gray-600 text-sm">Execute no PostgreSQL: <code class="bg-gray-100 px-1 rounded">SELECT * FROM activation_links LIMIT 1;</code></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="flex justify-between mt-8">
            <a href="index.html" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition">
                ‚Üê Voltar ao √çndice
            </a>
            <a href="passo2-variaveis-ambiente.html" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition">
                Pr√≥ximo Passo ‚Üí
            </a>
        </div>
    </div>

    <script>
        function copyCode(btn, codeId) {
            const codeElement = document.getElementById(codeId);
            const text = codeElement.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                btn.textContent = 'Copiado!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'Copiar';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }
    </script>
</body>
</html>

